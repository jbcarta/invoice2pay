<!-- *****************************************

        approvallevels_create.hbs

***************************************** -->  

<nav class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container  container-fluid head-tit">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" 
                   data-target="#bs-example-navbar-collapse-2" aria-expanded="false">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <h1 name="titulo" id="titulo">
               {{ title }}
            </h1>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-2">
          <ul class="nav navbar-nav">
            <li class="active"> <span class="sr-only">(current)</span></a></li>
            <li class="dropdown">
              <a  href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" 
                  aria-haspopup="true" aria-expanded="false">Menu<span class="caret"></span></a>
              <ul class="dropdown-menu">
                  <li><a onclick="grabar()" name="grabar" id="grabar">Grabar</a></li>

                  <li><a href="/approvalscheme">Salir sin Grabar</a></li>
                  <li role="separator" class="divider"></li>
                  <li><a href="#" data-href="#" 
                        data-toggle="modal" data-target="#confirm-delete">Borrar Documento</a></li>
                  <li role="separator" class="divider"></li>
                  <li><a href="/">Regresar al Menu Principal</a></li>
              </ul>
            </li>
          </ul>
        </div>
    </div>
</nav>



<!--

     BODY

<form action="/approver_edit_post/{{ this.tdetail }}" method="post" 
-->

<form action="/approvalscheme_insert" method="post" 
      id="form_edit_post" name="form_edit_post" 
      class="form-horizontal">

    <div class="container">

        <div class="row">

            <input id="returnaction"  name="returnaction" type="hidden" />
            <input  name="id" id="id" value="{{recdata._id}}" type="hidden"/> 


            <!-- First Column -->      

                <!-- Nivel Aprobación -->
                <div class="form-group">
                   <label for="aplevel" 
                         class="control-label col-lg-4 col-md-4 col-sm-12 col-xs-12">Nivel de Aprobación :</label>
                   <div class="col-lg-4 col-md-8 col-sm-12 col-xs-12">
                        <div class='input-group date' id='datetimepicker1'>
                            <input type='text' class="form-control separate-bottom" readonly="readonly" placeholder="indique Nivel Aprobación" name="aplevel" id="aplevel" 
                            value="{{recdata.aplevel}}"/> <span class="input-group-addon">
                            <a href="#" data-toggle="modal" data-target=".modal-aplevel"><span class="fa fa-external-link"></a></span>
                        </div>
                   </div>                                               
                </div> <!-- Nivel Aprobación -->

                <!-- Coces -->
                <div class="form-group">
                   <label for="costcenter"  
                        class="control-label col-lg-4 col-md-4 col-sm-12 col-xs-12">Centro de Costo: </label>
                   <div class="col-lg-4 col-md-8 col-sm-12 col-xs-12">
                        <div class='input-group date' id='datetimepicker1'>
                            <input type='text' class="form-control separate-bottom" readonly="readonly" placeholder="Centros de Costos" name="costcenter" id="costcenter" 
                            value="{{recdata.costcenter}}"/> <span class="input-group-addon">
                            <a href="#" data-toggle="modal" data-target=".modal-costcenter"><span class="fa fa-external-link"></a></span>
                        </div>
                   </div>
                </div> <!-- Coces-->


                <!-- Approver 1 -->
                <div class="form-group">
                   <label for="approver1" 
                         class="control-label col-lg-4 col-md-4 col-sm-12 col-xs-12">Aprobador 1: </label>
                   <div class="col-lg-4 col-md-8 col-sm-12 col-xs-12">
                        <div class='input-group date' id='datetimepicker1'>
                            <input type='text' class="form-control separate-bottom" readonly="readonly" placeholder="Aprobador 1" name="approver1" id="approver1" 
                            value="{{recdata.approver1}}"/> <span class="input-group-addon">
                            <a href="#" data-toggle="modal" data-target=".modal-approver1"><span class="fa fa-external-link"></a></span>
                        </div>
                   </div>                                               
                </div> <!-- Approver 1 -->

                <!-- Approver 2 -->
                <div class="form-group">
                   <label for="aplevel" 
                         class="control-label col-lg-4 col-md-4 col-sm-12 col-xs-12">Aprobador 2: </label>
                   <div class="col-lg-4 col-md-8 col-sm-12 col-xs-12">
                        <div class='input-group date' id='datetimepicker1'>
                            <input type='text' class="form-control separate-bottom" readonly="readonly" placeholder="Aprobador 2" name="approver2" id="approver2" 
                            value="{{recdata.approver2}}"/> <span class="input-group-addon">
                            <a href="#" data-toggle="modal" data-target=".modal-approver2"><span class="fa fa-external-link"></a></span>
                        </div>
                   </div>                                               
                </div> <!-- Approver 2 -->

                <!-- Approver 3 -->
                <div class="form-group">
                   <label for="aplevel" 
                         class="control-label col-lg-4 col-md-4 col-sm-12 col-xs-12">Aprobador 3: </label>
                   <div class="col-lg-4 col-md-8 col-sm-12 col-xs-12">
                        <div class='input-group date' id='datetimepicker1'>
                            <input type='text' class="form-control separate-bottom" readonly="readonly" placeholder="Aprobador 3" name="approver3" id="approver3" 
                            value="{{recdata.approver3}}"/> <span class="input-group-addon">
                            <a href="#" data-toggle="modal" data-target=".modal-approver3"><span class="fa fa-external-link"></a></span>
                        </div>
                   </div>                                               
                </div> <!-- Approver 3 -->

                <!-- Approver 4 -->
                <div class="form-group">
                   <label for="approver4" 
                         class="control-label col-lg-4 col-md-4 col-sm-12 col-xs-12">Aprobador 4: </label>
                   <div class="col-lg-4 col-md-8 col-sm-12 col-xs-12">
                        <div class='input-group date' id='datetimepicker1'>
                            <input type='text' class="form-control separate-bottom" readonly="readonly" placeholder="Aprobador 4" name="approver4" id="approver4" 
                            value="{{recdata.approver4}}"/> <span class="input-group-addon">
                            <a href="#" data-toggle="modal" data-target=".modal-approver4"><span class="fa fa-external-link"></a></span>
                        </div>
                   </div>                                               
                </div> <!-- Approver 4 -->

                <!-- Approver 5 -->
                <div class="form-group">
                   <label for="approver5" 
                         class="control-label col-lg-4 col-md-4 col-sm-12 col-xs-12">Aprobador 5: </label>
                   <div class="col-lg-4 col-md-8 col-sm-12 col-xs-12">
                        <div class='input-group date' id='datetimepicker1'>
                            <input type='text' class="form-control separate-bottom" readonly="readonly" placeholder="Aprobador 5" name="approver5" id="approver5" 
                            value="{{recdata.approver5}}"/> <span class="input-group-addon">
                            <a href="#" data-toggle="modal" data-target=".modal-approver5"><span class="fa fa-external-link"></a></span>
                        </div>
                   </div>                                               
                </div> <!-- Approver 5 -->




            </div>
        </div>
    </div>
</form>


<!--  ************************************************ -->

<!--  *********  M O D A L   W I N D O W S *********** -->

<!--  ************************************************ -->



<!--   

       Tabla Dinamica Nivel de Aprobación

-->       
    <div    class="modal fade modal-aplevel" tabindex="-1" 
            id="modal-aplevel" name="modal-provee"
            data-target="#bs-example-modal-sm-aplevel"
            role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" 
                            aria-hidden="true">Nivel de Aprobación &times;</button>
                        {{火}} {{huo}}
                </div>
                <div class="modal-body">
                    <table  id="t_aprovallevels" name="t_aprovallevels" 
                            class="table table-striped table-bordered" 
                           cellspacing="0" width="50%">
                    </table>      
                </div>
            </div>
        </div>
    </div>

<!--   

       Tabla Dinamica Centro de Costos

-->       
    <div    class="modal fade modal-costcenter" tabindex="-1" 
            id="modal-costcenter" name="modal-costcenter"
            data-target="#bs-example-modal-sm-costcenter"
            role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" 
                            aria-hidden="true">Centro de Costos&times;</button>
                        {{火}} {{huo}}
                </div>
                <div class="modal-body">
                    <table  id="t_cecos" name="t_cecos" 
                            class="table table-striped table-bordered" 
                           cellspacing="0" width="50%">
                    </table>      
                </div>
            </div>
        </div>
    </div>



<!--   

       Tabla Dinamica Aprobador 1

-->       
    <div    class="modal fade modal-approver1" tabindex="-1" 
            id="modal-approver1" name="modal-approver1"
            data-target="#bs-example-modal-sm-approver1"
            role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" 
                            aria-hidden="true">Aprobadores 1&times;</button>
                        {{火}} {{huo}}
                </div>
                <div class="modal-body">
                    <table  id="t_approvers1" name="t_approvers1" 
                            class="table table-striped table-bordered" 
                           cellspacing="0" width="50%">
                    </table>      
                </div>
            </div>
        </div>
    </div>

    <!--   

       Tabla Dinamica Aprobador 2

    -->       
    <div    class="modal fade modal-approver2" tabindex="-1" 
            id="modal-approver2" name="modal-approver2"
            data-target="#bs-example-modal-sm-approver2"
            role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" 
                            aria-hidden="true">Aprobadores 2&times;</button>
                        {{火}} {{huo}}
                </div>
                <div class="modal-body">
                    <table  id="t_approvers2" name="t_approvers2" 
                            class="table table-striped table-bordered" 
                           cellspacing="0" width="50%">
                    </table>      
                </div>
            </div>
        </div>
    </div>


    <!--   

       Tabla Dinamica Aprobador 3

    -->       
    <div    class="modal fade modal-approver3" tabindex="-1" 
            id="modal-approver3" name="modal-approver3"
            data-target="#bs-example-modal-sm-approver3"
            role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" 
                            aria-hidden="true">Aprobadores 3&times;</button>
                        {{火}} {{huo}}
                </div>
                <div class="modal-body">
                    <table  id="t_approvers3" name="t_approvers3" 
                            class="table table-striped table-bordered" 
                           cellspacing="0" width="50%">
                    </table>      
                </div>
            </div>
        </div>
    </div>

    <!--   

       Tabla Dinamica Aprobador 4

    -->       
    <div    class="modal fade modal-approver4" tabindex="-1" 
            id="modal-approver4" name="modal-approver4"
            data-target="#bs-example-modal-sm-approver4"
            role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" 
                            aria-hidden="true">Aprobadores 4&times;</button>
                        {{火}} {{huo}}
                </div>
                <div class="modal-body">
                    <table  id="t_approvers4" name="t_approvers4" 
                            class="table table-striped table-bordered" 
                           cellspacing="0" width="50%">
                    </table>      
                </div>
            </div>
        </div>
    </div>


    <!--   

       Tabla Dinamica Aprobador 5

    -->       
    <div    class="modal fade modal-approver5" tabindex="-1" 
            id="modal-approver5" name="modal-approver5"
            data-target="#bs-example-modal-sm-approver5"
            role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" 
                            aria-hidden="true">Aprobadores 5&times;</button>
                        {{火}} {{huo}}
                </div>
                <div class="modal-body">
                    <table  id="t_approvers5" name="t_approvers5" 
                            class="table table-striped table-bordered" 
                           cellspacing="0" width="50%">
                    </table>      
                </div>
            </div>
        </div>
    </div>


    <!--   
             Button Delete 
    -->
    <div  class="modal fade" id="confirm-delete" tabindex="-1" role="dialog" 
          aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
            
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title" id="myModalLabel">Confirmar Eliminación</h4>
                </div>
            
                <div class="modal-body">
                    <p>Esta función va a borrar el actual documento, este proceso es irreversible.</p>
                    <p>Esta seguro de continuar?</p>
                    <p class="debug-url"></p>
                </div>
                
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Cancelar</button>
                    <a class="btn btn-danger btn-ok" onclick="borrar()">Borrar</a>
                </div>
            </div>
        </div>
    </div>

    <!--  ************************************************ -->

    <!--  *********     J A V A S C R I P T    *********** -->

    <!--  ************************************************ -->

    <!--
      <script src="/js/tsuppliers.js" type="text/javascript"> </script>
    -->
    <script src="/js/t_approvallevels.js" type="text/javascript"> </script>
    <script src="/js/t_cecos.js" type="text/javascript"> </script>    
    <script src="/js/t_approvers1.js" type="text/javascript"> </script>
    <script src="/js/t_approvers2.js" type="text/javascript"> </script>
    <script src="/js/t_approvers3.js" type="text/javascript"> </script>
    <script src="/js/t_approvers4.js" type="text/javascript"> </script>
    <script src="/js/t_approvers5.js" type="text/javascript"> </script>


    <script type="text/javascript">
         var currentRow = -1;
    </script>

    <script type="text/javascript">



        // ------------------------------------
        //         modifyline()
        // -----------------------------------
        function modifyline()
        {
          alert("Modify Line");
        };

        // ------------------------------------
        //         deleteline()
        // -----------------------------------
        function deleteline()
        {
          alert("Delete Line");
        };

    </script>


    <script type="text/javascript">

        function grabar()
        {
            var action = $('#titulo').text();
            action = action.trim().substr(0,5); 
            // alert(action);

            /*
            var t_id = $('#id').text();
            if (action == 'Crear')
            {
                alert('Entror por otra');  
                document.getElementById('returnaction').value = "Crear"                    
            }
            else
            {
                document.getElementById('returnaction').value = "Modificar"
            }
            */
            document.getElementById('returnaction').value = "Crear"
            $('#form_edit_post').submit();
        };

        function borrar()
        {
                alert('Entro por borrar');   
                document.getElementById('returnaction').value = "Borrar"     
                $('#approvallevels_edit_post').submit();                 
        };

    </script>   

   <script>
        // -------------------------------------
        //   Button de Eliminar documento
        // -------------------------------------        
        $('#confirm-delete').on('show.bs.modal', function(e) {
            $(this).find('.btn-ok').attr('href', $(e.relatedTarget).data('href'));
            
            $('.debug-url').html('Delete URL: <strong>' + $(this).find('.btn-ok').attr('href') + '</strong>');
        });
    </script>
